# 日本語リポグラム研究 中間報告メモ（索引用）

このファイルは、中間報告書の「索引・TODO・設計メモ」用です。  
実際の本文は、章ごとのファイル（`第1章_〜.md` など）側に清書していきます。

---

## 0. TODO・やることリスト

- [ ] 概要の確定（概要ドラフトの修正）
- [ ] 各章ファイル（第1〜7章）の清書・推敲
- [ ] 表・図（Table 1, 2, 3 / Figure 1, 2）の作成

必要に応じて自由に項目を追加・削除してください。

---

## A. 本文ファイル（章ごとの md）

中間報告の清書用に、章ごとのファイルを `docs/中間報告/` に分割してあります。

- 第1章: `docs/中間報告/第1章_研究概要と背景.md`
- 第2章: `docs/中間報告/第2章_関連研究.md`
- 第3章: `docs/中間報告/第3章_研究課題と評価指標.md`
- 第4章: `docs/中間報告/第4章_提案手法とシステム構成.md`
- 第5章: `docs/中間報告/第5章_実験設定と結果の概要.md`
- 第6章: `docs/中間報告/第6章_今後の計画.md`
- 第7章: `docs/中間報告/第7章_まとめと期待される成果.md`

このメモの内容を適宜参考にしながら、各章ファイルに清書していく想定です。

---

## 1. 概要ドラフト（メモ）

ここに概要の候補文や言い回しのバリエーションをメモしていく。

- バージョン1（例・途中まで）：  
  - 本研究は、日本語において特定の文字を一切含まない文章「リポグラム」を自動生成する手法を検討するものである。…（続きは好きに書き足す）

---

## 2. 章立てメモ

### 第1章 研究概要・背景（目安 700字）
- テーマ：日本語リポグラム自動生成
- 背景：制約付き文章生成、NGワード、LLM制御の難しさ
- 問題意識：日本語特有の制約（助詞・表記・読み）
- 目的：逐次 vs 一発生成の比較と実用指針

### 第2章 関連研究（目安 800〜900字）
- 制約付き文章生成・スタイル変換
- NGワード除去／文破綻
- 英語圏リポグラム、日本語の空白
- 本研究の位置づけ

### 第3章 研究課題と評価指標（目安 700字）
- 入力・出力と制約条件（dev.csv / dev_500.csv）
- 禁止文字セット（banned_chars）の種類
- 成功条件・評価指標（制約遵守・意味保持・文法性）

### 第4章 提案手法とシステム構成（目安 1100〜1200字）
- リポグラム生成フレームワークのアーキテクチャ（CHECK→GENERATE→REWRITE）
- oneshot / sequential の概要
- 制約チェック（文字／読み）
- Web アプリを含むシステム構成

### 第5章 実験設定と結果の概要（目安 1200〜1300字）
- データセット（dev 系）
- 実験条件・パラメータ
- 成功率や VRR など主要結果の概要
- 代表例と簡単なエラー分析

### 第6章 今後の計画（目安 700〜800字）
- 実験拡張
- 解析高度化・主観評価案
- スケジュール

### 第7章 まとめ・期待される成果（目安 400〜500字）
- 暫定的な知見
- 新規性・応用可能性
- 中間段階での限界と卒論での課題

---

## 5. 表・図の具体案メモ

### 5.1 Table 1: データセット概要

イメージ：dev系・元コーパスごとの統計をまとめる表。

| データセット      | 文数 | 平均文長(文字) | 制約タイプ数 | 主な genre            | 備考                       |
|-------------------|------|----------------|--------------|-----------------------|----------------------------|
| dev.csv           | 200  | 約XX字         | 3            | proverb, narrative    | 中規模の開発用セット      |
| dev_500.csv       | 500  | 約YY字         | 3            | proverb, tatoeba 文   | 本実験候補、dev 拡大版    |
| jpn_sentences.tsv | 5000 | 約ZZ字         | -            | tatoeba (raw)         | dev 系の元データの一部出典 |

- 実際には、簡単なスクリプトで文数・平均文長を計算して XX, YY, ZZ を埋める。  
- 「制約タイプ数」は `constraint_type` 列（easy/medium など）のユニーク数。  
- 本文では「Table 1 に示すように、本研究では dev.csv（200文）と dev_500.csv（500文）を中心に用いる」と説明する。

### 5.2 Table 2: 制約タイプと banned_chars の例

| constraint_type | 説明                      | banned_chars 例              | 想定難易度 | 備考                                   |
|-----------------|---------------------------|------------------------------|------------|----------------------------------------|
| easy            | 単音禁止（頻度中程度）   | `い,さ`                      | 低         | ことわざ中心、比較的生成しやすい      |
| medium          | 行制約                    | `あ行: あ,い,う,え,お`       | 中         | 行制約が多く、日本語では難易度が高い  |
| medium          | 子音系列禁止             | `か,き,く,け,こ`             | 中         | 特定の子音を避ける必要がある          |
| （拡張）hard    | 助詞を含む高頻度文字禁止 | 例：`は,が,を` など          | 高         | 今後追加予定、意味保持が特に困難      |

- dev 系に実際に含まれているパターン（`い,さ`, `あ行: あ,い,う,え,お`, `か,き,く,け,こ`）をそのまま利用する。  
- 本文では「Table 2 に示すように、本研究では単音禁止から行制約まで複数の制約タイプを設定した」と書く。

### 5.3 Table 3: oneshot / sequential の比較（指標サマリ）

| method     | 制約遵守率(%) | VRR(平均) | TTR(平均) | 実行時間 平均[s] | コメント                          |
|-----------|--------------|-----------|-----------|------------------|-----------------------------------|
| sequential| 例: 91.6     | 0.35      | 0.72      | 2.4              | 制約遵守率が高いが時間コスト大    |
| oneshot   | 例: 12.5     | 0.30      | 0.70      | 0.5              | 高速だが制約違反が残りやすい傾向 |

- 実際には `results/results_500.csv` を集計して、method ごとの平均値を計算して埋める。  
- 数字がラフでも「予備実験として」の位置づけなら問題ない。  
- 本文では「Table 3 より、逐次生成は制約遵守率で優位だが、実行時間が長いことがわかる」とコメントする。

### 5.4 Figure 1: システム構成図（Webアプリ＋LLM）

- 内容案：  
  - ブラウザ（ユーザ） → Webサーバ（ripogram アプリ） → LLM API  
  - Webサーバから `ripogram` 内のリライト機能を呼ぶ矢印。  
  - 結果がブラウザに戻る流れ。  
- キャプション案：  
  - 「Figure 1: 日本語リポグラム Web アプリケーションのシステム構成」

### 5.5 Figure 2: 比較結果のバーグラフ

- 横軸：method（sequential / oneshot）  
- 縦軸：制約遵守率[%] または 実行時間[s]  
- 制約タイプ別（easy / medium）で色分けすると分かりやすい。  
- キャプション案：  
  - 「Figure 2: 逐次生成と一発生成の制約遵守率の比較（予備実験）」

---

## 6. 全体方針メモ

- 中間報告書は「手法の紹介」よりも「Webアプリ開発の進捗」と「分析結果・知見」の 2 軸を強調して書く。  
- 本文は、章ごとの md ファイル（第1〜7章）に書き分け、ここでは構成とTODOだけを見る。  
- 表・図は最低限、Table 1（データセット概要）、Table 3（oneshot/sequential 比較）、Figure 1（システム構成）を用意する。  
- 数値やグラフは「予備実験として」の位置づけでよく、最終的な卒論での本実験とは分けて書く。  
- Webアプリは「研究支援ツール」としての役割（主観評価やデモへの利用可能性）を明示し、実装の細部は必要以上に掘り下げない。  

# CW研究会 予稿メモ

このファイルは、CW研究会向け予稿（4〜6ページ程度を想定）の「構成・TODO・草案メモ」です。  
中間報告書の内容を圧縮しつつ、学会フォーマットに合わせて整理していきます。

---

## 0. TODO・やること

- [ ] 予稿のページ制約・書式（フォーマット / 字数）の確認
- [ ] 各節ごとの想定文字数の見積もり
- [ ] 中間報告から引用・再構成する部分のマーキング
- [ ] 図表（最小構成：図1, 表1）の選定
- [ ] 英文タイトル・著者情報・所属の最終決定

必要に応じて自由に追加・削除してください。

---

## 1. 想定タイトル・著者情報メモ

- 日本語タイトル（案）  
  - 例：**日本語リポグラムの自動生成に向けた逐次生成手法の検討**
- 英語タイトル（案）  
  - 例：**Towards Automatic Generation of Japanese Lipograms via Sequential Constrained Text Generation**
- 著者・所属  
  - 橋下 葵（iTL / ○○研究室）  
  - 所属表記はCW研究会のフォーマットに合わせて後で調整。

---

## 2. 予稿の全体構成案

ページ制約を想定して、章立てを以下のように圧縮します（番号は調整可）。

1. はじめに（研究背景と目的）
2. 関連研究
3. 課題設定と評価指標
4. 提案手法とシステム構成
5. 実験設定と結果
6. まとめと今後の課題

中間報告の「第1〜7章」を、上記 1〜6 章にマッピングするイメージです。

---

## 3. 章ごとの内容メモ

### 3.1 第1章 はじめに（背景・目的）〔目安：0.5〜0.8ページ〕

- テーマ：日本語リポグラム（特定の文字を含まない文章）の自動生成
- 背景：  
  - 制約付き文章生成・NGワードフィルタリングの需要  
  - 大規模言語モデル（LLM）の出力制御の難しさ（禁止文字や表現を完全に避けるのが難しい）
- 日本語特有の難しさ：  
  - 助詞などの高頻度文字を避けると文構成が難しい  
  - 表記揺れ（ひらがな／カタカナ／漢字）や読みの多様性
- 目的：  
  - 逐次生成（sequential）と一発生成（oneshot）を比較し、日本語リポグラム生成における有効な方針を検討する  
  - Webアプリとして実装し、ユーザがインタラクティブにリポグラム生成を試せる環境を提供する

#### 3.1.x 段落構成案

- 第1段落：問題提起  
  - 「禁止語やNGワードを含まない文章生成」の一般的なニーズ  
  - LLMをそのまま使うと禁止文字を完全に避けられない問題
- 第2段落：日本語リポグラムという題材  
  - リポグラムの簡単な定義と面白さ（制約付き文章生成の一例として位置づけ）  
  - 日本語リポグラムが英語より難しい／特徴的な理由
- 第3段落：本研究の目的・具体的な問い  
  - sequential vs oneshot の比較という軸  
  - 実用指針（どの程度の制約でどの手法が妥当か）を探るというゴール
- 第4段落：本稿の構成  
  - 「本稿の構成は以下の通りである」で締め、2節以降の流れを1文で紹介。

#### 3.1.y 中間報告との対応

- 主に `第1章_研究概要と背景.md` から圧縮して持ってくる  
- 一部、「今後の計画」や「まとめ」で書いたモチベーションの記述もここで再利用してよい

### 3.2 第2章 関連研究〔目安：0.5ページ〕

- 制約付き文章生成・スタイル変換に関する研究  
  - 禁止語句・NGワードの除去と意味保持のトレードオフ  
  - 既存のフィルタリング手法（単純な文字フィルタ vs 再生成）
- 英語圏でのリポグラムやpangramに関する研究・文化的背景  
  - 日本語では空白が乏しく、頻度の高い文字を避ける難しさがより顕著である点を強調
- 本研究の位置づけ  
  - 日本語リポグラムに特化し、逐次生成フレームワークとWebアプリを組み合わせた実装・分析という点で独自性を持つ。

#### 3.2.x 段落構成案

- 第1段落：制約付き生成・NGワードフィルタ関連  
  - キーワード例：constrained text generation, lexical constraints, bad words filter など  
  - 既存研究は「禁止語を減らす」ことには成功しているが、「完全に0にする」のは難しいという話
- 第2段落：リポグラム／言語遊戯としての位置づけ  
  - pangram / lipogram の文化的背景を1段落で簡潔に  
  - 日本語研究としてはまだ事例が少ないことを指摘
- 第3段落：本研究とのギャップ  
  - 多くの研究は英語前提・文法チェック前提など  
  - 本研究は「日本語」「禁止文字完全排除」「Webアプリ実装・評価」の3点で異なる、というまとめ。

#### 3.2.y 中間報告との対応

- 主に `第2章_関連研究.md` をベースに、代表的な研究・キーワードだけを抜粋  
- 紙幅の都合上、個々の論文名や詳細は削り、テーマごとのまとまりで書く方針

### 3.3 第3章 課題設定と評価指標〔目安：0.5ページ〕

- タスク設定：  
  - 入力：日本語文（ことわざなど）  
  - 出力：指定された禁止文字を一切含まない日本語文（リポグラム）
– データセット概要：  
  - 第3章で定義した制約付きデータセット（ことわざ中心の短文コーパスに禁止文字集合を付与して構築）を簡潔に紹介  
  - 表1として、文数・平均文長・制約タイプの内訳などをまとめる。
- 禁止文字セット（banned_chars）の種類：  
  - 単音禁止（例：`い,さ`）  
  - 行制約（例：`あ行: あ,い,う,え,お`）  
  - 子音系列禁止（例：`か,き,く,け,こ`）
- 評価指標：  
  - 制約遵守率（禁止文字が一切含まれない生成文の割合）  
  - 意味・文法性の簡易評価（VRRなど、中間報告で用いた指標から重要なものだけ抜粋）  
  - 実行時間・生成ステップ数など、実用上のコスト指標。

#### 3.3.x 段落構成案

- 第1段落：タスクの定義  
  - 「入力文と禁止文字集合が与えられたとき、禁止文字を含まない文を生成する問題」として形式化  
  - 必要なら記号（x, C, y など）で簡潔に数式化してもよい
- 第2段落：データセットの概要  
  - 文数や平均長などの統計量を1段落で説明（詳細は表1に委ねる）  
  - proverb / tatoeba などの出典と、ことわざ中心である点
- 第3段落：制約の種類と難易度  
  - banned_chars の例を1〜2個示して直感を与える  
  - easy / medium などの難易度ラベルの説明（あれば）
- 第4段落：評価指標  
  - 制約遵守率を主指標として定義  
  - 補助指標として VRR や実行時間を挙げる（定義は脚注または短く）

#### 3.3.y 中間報告との対応

- `第3章_研究課題と評価指標.md` のうち、  
  - 問題設定部分 → 第1〜2段落  
  - 評価指標の列挙 → 第4段落  
- 表や図で細かく書いていた部分は、予稿では表1と本文1段落に圧縮

### 3.4 第4章 提案手法とシステム構成〔目安：1.0ページ〕

- リポグラム生成フレームワーク：  
  - 基本構造：**CHECK → GENERATE → REWRITE** のループ  
  - oneshot：一度の生成で制約を満たすことを目指す手法  
  - sequential：制約違反があれば部分的に書き換え・再生成する逐次手法
- 制約チェック：  
  - 文字ベースのチェック（禁止文字が含まれていないか）  
  - 読みベースのチェック（必要であれば中間報告と同様の扱いを簡単に触れる）
- Webアプリのシステム構成（図1）：  
  - ブラウザ → Webサーバ（ripogram アプリ） → LLM API の流れ  
  - 予稿では、図1として構成図を1枚載せる（詳細な実装コードは省略）。

#### 3.4.x 段落構成案

- 第1段落：全体フレームワークの概要  
  - 「CHECK → GENERATE → REWRITE」というループ構造を図と合わせて説明  
  - ここで method の一般的な枠組みを共有
- 第2段落：oneshot 手法の詳細  
  - プロンプトの方針（禁止文字の提示方法など）  
  - 長所（高速・シンプル）と短所（制約違反が残りやすい）を1段落で
- 第3段落：sequential 手法の詳細  
  - どのように違反箇所を検出し、どの範囲を再生成するか  
  - ループ回数の上限や停止条件のイメージ
- 第4段落：制約チェックの仕組み  
  - 実装としては文字列走査で banned_chars を確認すること  
  - 読みベースのチェックを行う場合、その概要だけ触れる（詳細は削る）
- 第5段落：Webアプリ構成（図1）  
  - フロントエンド（ブラウザ）→ バックエンド → LLM API の順に説明  
  - ユーザがインタラクティブに実験できる研究支援ツールである点を強調。

#### 3.4.y 中間報告との対応

- `第4章_提案手法とシステム構成.md` をほぼそのまま圧縮して利用  
- システム実装の細かい話（フレームワーク名やコード断片）は削り、  
  - 手法の考え方と図に焦点を当てる

### 3.5 第5章 実験設定と結果〔目安：1.0〜1.5ページ〕

- 実験設定：  
  - 使用データセットの文数・制約タイプ  
  - 比較手法：sequential vs oneshot  
  - LLMの設定、プロンプト方針など（紙幅の許す範囲で簡潔に）
- 主要な評価結果のサマリ（表2 など）：  
  - 制約遵守率、VRR などの平均値を oneshot / sequential で比較  
  - 必要に応じて、easy / medium 等の制約タイプごとの内訳をまとめる。
- 図2の案：  
  - データセットのイメージ（元文と禁止文字集合の組の例を示したキャプチャ）
- 図3の案：  
  - 手法（sequential / oneshot）ごとの制約遵守率のバーグラフ  
  - 実行時間とのトレードオフが分かるようにグラフまたは表を工夫。
- 考察のポイント：  
  - sequential は制約遵守率が高い一方で、生成に時間がかかる傾向  
  - oneshot は高速だが、禁止文字が残りやすく、日本語リポグラムでは不十分な場合が多い  
  - 日本語特有の制約（助詞・高頻度文字）を含む場合、どの程度性能が落ちるか。

#### 3.5.x 段落構成案

- 第1段落：実験条件のまとめ  
  - どのデータセットを何文使ったか、どの制約タイプを対象としたか  
  - LLMのバージョンやパラメータは必要最低限だけ
- 第2段落：主指標（制約遵守率）の結果  
  - 表2 / 図3 を参照しつつ、sequential が優位であることを述べる  
  - 具体的な数値は代表的なものだけ本文に書き、残りは表に任せる
- 第3段落：補助指標（VRR など）と実行時間  
  - 意味・多様性・時間コストのトレードオフを簡潔に説明  
- 第4段落：エラー分析の要点  
  - oneshot で失敗する典型例（禁止文字が1〜2個だけ残る、助詞が残る、など）  
  - sequential でも難しいケース（きつい制約、文構造が大きく変わるケース）

#### 3.5.y 中間報告との対応

- `第5章_実験設定と結果の概要.md` をベースに、  
  - 実験条件 → 第1段落  
  - 結果サマリ → 第2〜3段落  
  - エラー分析 → 第4段落  
- 統計的検定や細かい数値表は、予稿では1〜2表に圧縮する方針

### 3.6 第6章 まとめと今後の課題〔目安：0.5ページ〕

- 本研究で得られた暫定的な知見：  
  - 日本語リポグラム生成において、逐次生成フレームワークが有望であること  
  - Webアプリとして可視化・操作可能にすることで、ユーザ評価やデモへの応用が見込めること
- 今後の課題：  
  - より難度の高い制約（助詞を禁止するなど）への拡張  
  - 意味保持・文法性の高度な自動評価、主観評価の実施  
  - データセットの拡大と、他言語や他タスクへの一般化可能性。

#### 3.6.x 段落構成案

- 第1段落：本稿のまとめ  
  - 問題設定と提案手法（sequential フレームワーク）の要点を1〜2文で再掲  
  - sequential が有望であるという結論を簡潔に述べる
- 第2段落：得られた知見の整理  
  - 制約の種類ごとの傾向（easy では両手法ともある程度機能するが、medium 以上で差が開く、等）  
  - Webアプリとしての有用性（ユーザが試しながら評価できる）
- 第3段落：今後の課題・展望  
  - 高難度制約・主観評価・他タスクへの応用などを箇条書き的にまとめる  
  - 卒論または後続研究へのつながりを1文だけ示す。

#### 3.6.y 中間報告との対応

- `第6章_今後の計画.md` と `第7章_まとめと期待される成果.md` を統合  
- 予稿では、計画というより「現時点での限界と今後の展望」に寄せて書く

---

## 4. 図表案メモ

- 表1: データセットの概要  
  - 文数・平均文長・制約タイプ数を簡潔にまとめる。
- 表2: oneshot / sequential の比較（主要指標）  
  - 制約遵守率・VRR・実行時間など。
- 図1: システム構成図（Webアプリ＋LLM）  
  - 中間報告のメモを簡略化した版。
- 図2: データセットのイメージ  
  - 元文と禁止文字集合の組をいくつか示す。  
- 図3: 制約遵守率の比較バーグラフ  
  - 手法×制約タイプ別の傾向を視覚的に示す。

紙幅に応じて、図表の数は削ってもよいです（最低1表1図を目安）。

---

## 5. 中間報告からの流用メモ

- 中間報告の以下の章を、予稿の対応節に再構成して用いる：  
  - 第1章 → 「はじめに」  
  - 第2章 → 「関連研究」  
  - 第3章 → 「課題設定と評価指標」  
  - 第4章 → 「提案手法とシステム構成」  
  - 第5章 → 「実験設定と結果」  
  - 第6章・第7章 → 「まとめと今後の課題」
- 日本語の言い回しや説明の深さは、紙幅に合わせて削る・統合する。  
- 詳細な統計的検定や追加実験は、卒論またはロングペーパーでの展開とし、予稿ではサマリだけにとどめる。
